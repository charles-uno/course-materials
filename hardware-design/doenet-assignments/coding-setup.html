<!-- Windows instructions need update -->
<!-- Next time: don't create HD directory in this lab, so won't need to backup in next lab -->

<alert>Follow these instructions carefully. Getting this set up correctly is
    crucial for your work in this course. If you get stuck at a step, or
    encounter something confusing, please check with Prof Fyfe or the TA (in class, office hours, or email) before
    proceeding.</alert>

<alert>Be gentle when handling the Raspberry Pi board! It is easy to damage. That's why we have a case for it.</alert>

<p>The check boxes are intended to help you track your progress through this lab, and for your instructor to verify that
    all students have successfully completed the set up. Please do not check the box unless you have successfully
    completed that step!</p>

<section>
    <title>Laptop Setup</title>

    <exercise>

        <p>Install VSCode on your laptop. Download link: https://code.visualstudio.com/download</p>

        <p>Once downloaded, install the Remote SSH extension</p>

        <image source='doenet:cid=bafkreidcqeygjvku65ry6qfe6tow6gznkhsasgm4egml27sgu6tah56omu'
            description='VSCode Remote SSH Extension' asfilename='vscode-remote-ssh.png' width='964'
            mimeType='image/png' />
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous step.</choice>
            </choiceInput>
        </answer>
    </exercise>

</section>

<section>
    <title>Raspberry Pi Assembly</title>

    <exercise>

        <p>Confirm that you have the following components:</p>
        <ol>
            <li>Black hard plastic case for the Pi board</li>
            <li>Nonslip clear nubs (may be inside the case)</li>
            <li>Raspberry Pi 4 board in box</li>
            <li>Heat sinks in small bag</li>
            <li>USB-C to wall power block</li>
            <li>USB to Ethernet "dongle" adapter</li>
            <li>Short Ethernet cable</li>
            <li>USB-C to USB adapter</li>
            <li>MicroSD card in small bag</li>
            <li>Zippered soft-sided case for the kit</li>
        </ol>
        <image source='doenet:cid=bafkreifvzvrgivxu6azdn3pk4gar56w5p2g367gzgrxl5hlgntnh6iyifi'
            description='Raspberry Pi Kit Contents' asfilename='Raspberry_Pi_Kit_Contents2.jpg' width='5479'
            mimeType='image/jpeg' />
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous step.</choice>
            </choiceInput>
        </answer>
    </exercise>

    <exercise>
        <p>Attach heat sinks to your Pi.</p>
        <ul>
            <li>Remove the Pi from its box</li>
            <li>Remove the heat sinks from the plastic bag</li>
            <li>Remove the blue sticker from each heat sink and apply to the chips as shown</li>
        </ul>
        <sideBySide>
            <image source='doenet:cid=bafkreigo4zdxhjug6gdplprczy5ar2wqnpzth3jcoxm6oba63nser6z67a'
                description='Heat sinks next to Raspberry Pi Board' asfilename='Heat Sinks and Board.jpeg' width='4032'
                mimeType='image/jpeg' />
            <image source='doenet:cid=bafkreicopouqh2vkkdne6dkulntu3ylgztr4ywe6c4yyfm2vsqmosei4ge'
                description='Heat sinks on Raspberry Pi Board' asfilename='Heat Sinks on Board.jpeg' width='4032'
                mimeType='image/jpeg' />
        </sideBySide>
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous step.</choice>
            </choiceInput>
        </answer>

    </exercise>

    <exercise>
        <p>Insert the MicroSD card into the slot on the Pi. It will stick out a bit.</p>
        <sideBySide>
            <image source='doenet:cid=bafkreigvgy2d6lv6uhaiasz3dsmazzvg4xytdpqcy7ezja2sso7vto2yvy'
                description='MicroSD Card next to Raspberry Pi Board' asfilename='MicroSD and Board.jpg' width='4032'
                mimeType='image/jpeg' />
            <image source='doenet:cid=bafkreihgeopug7j6y5q7565sq2u7i2hii42xsrf7qa23dlb7reelzbffga'
                description='MicroSD Card in Raspberry Pi Board' asfilename='MicroSD in Board.jpg' width='4032'
                mimeType='image/jpeg' />
        </sideBySide>
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous step.</choice>
            </choiceInput>
        </answer>
    </exercise>

    <exercise>
        <p>Attach the clear nonstick nubs to the bottom of the black plastic case.</p>
        <image source='doenet:cid=bafkreidju7c4lfbpn42pu7ditjeimwktxsylh2gjzbxbycrga55qroqd5y'
            description='Case with feet' asfilename='Case with feet.jpeg' width='4032' mimeType='image/jpeg' />
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous step.</choice>
            </choiceInput>
        </answer>
    </exercise>

    <exercise>
        <p>Press the Pi board into the black plastic case. Do not force it! If it doesn't seem to fit, confirm that
            everything is facing the right way.</p>
        <image source='doenet:cid=bafkreicwosgy5jzfvqmkjk3pqs5fll2lhrxslujjhage4ycjud4nv6yxa4'
            description='Pi Board next to Case' asfilename='Pi Board next to Case.jpeg' width='4032'
            mimeType='image/jpeg' />
        <image source='doenet:cid=bafkreib4xbnmaf5hxjfvqb6sejwev6umxj227iomzc6jzwwcn7btevdyky'
            description='Pi Board in Case' asfilename='Pi Board in Case.jpeg' width='4032' mimeType='image/jpeg' />
        <p>Attach the lid to the case. Again, do not force it. The lid is not symmetrical.</p>
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous step.</choice>
            </choiceInput>
        </answer>
    </exercise>

    <exercise>
        <p>Connect your Pi to power. Make sure to use the provided power block.</p>
        <ol>
            <li>A red light should appear, indicating that power is connected to the Pi</li>
            <li>A green light should flash, indicating that the Pi operating system is booting</li>
        </ol>
        <p>Wait until the green light flashing stops, before proceeding to the next step.</p>
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous steps.</choice>
            </choiceInput>
        </answer>
    </exercise>
</section>

<section>
    <title>Connect to the Pi</title>

    <exercise>
        <image source='doenet:cid=bafkreiep2ok3zvg5xb3nn2i25vc66u62msqyczcqcyagg5eutshdeodcge'
            description='Raspberry Pi Connection Cables' asfilename='Raspberry Pi Connection Cables.jpeg' width='3603'
            mimeType='image/jpeg' />
        <p>Connect one end of the ethernet cord (2 in the picture above) to the Pi and the other end to your laptop. If
            your
            laptop does not have an ethernet port, use the USB-to-ethernet dongle (3). Depending on your laptop, you may
            also
            need the USB-to-USB3 dongle (4). The photo below shows the setup using both dongles.</p>
        <image source='doenet:cid=bafkreibtqgq32nvupeq7q3vmdnfv5exkscn5mrfdcaqrungu4cetsn2g7a'
            description='Raspberry Pi Connected to Laptop' asfilename='Raspberry Pi Connected to Laptop.jpeg'
            width='2763' mimeType='image/jpeg' />
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous step.</choice>
            </choiceInput>
        </answer>
    </exercise>

    <exercise>
        <p>Verify the connection</p>
        <p>Windows:</p>
        <ul>
            <li>Start > Control Panel > Network and Internet</li>
            <li>Once your laptop connects to the Pi (this may take a minute or so), you may see a popup window about
                selecting a network location. You can select Home Network or choose the red X at the top right of the
                window to exit that popup</li>
        </ul>
        <p>Mac:</p>
        <ul>
            <li>System Settings > Network</li>
            <li>If using an ethernet port on your Mac, the Ethernet port should move to the top and show that it is
                connected</li>
            <li>If using the kit's USB-Ethernet dongle, "USB 10/100/1000 LAN" should move near the top of the list and
                show a green connection status. The connection may take a minute or so to complete</li>
            <li>Note for dongle only: If "USB 10/100/1000 LAN" doesn't appear in the list, download the driver for "SKU
                202023" from <ref uri="http://www.cablematters.com/cs-Downloads.aspx">
                    http://www.cablematters.com/cs-Downloads.aspx</ref>
            </li>
        </ul>
        <p>Linux:</p>
        <p>After a moment, a two-arrow icon should show in the upper right toolbar. This indicates a wired connection to
            the Pi.</p>
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous step.</choice>
            </choiceInput>
        </answer>
    </exercise>

    <exercise>
        <p>Fix your wifi!</p>
        <p>You may have noticed that your laptop can no longer access WiFi when you are connected to your Raspberry Pi.
            This happens because most devices default to the ethernet connection if present. We want to default to Wifi
            instead. </p>
        <p>Mac:</p>
        <ol>
            <li>System Settings > Network. You should see a list of connection interfaces</li>
            <li>Click the "..." underneath the list and select "Set Service Order"</li>
            <li>A small window should pop up. Click and Drag Wi-Fi to be above USB 10/100/1000 LAN. Click OK, and then
                click Apply</li>
        </ol>
        <p>Windows:</p>
        <ol>
            <li>Ensure your Pi is connected to your laptop</li>
            <li>Enter the Network and Sharing Center</li>
            <li>Click Change Adapter Settings</li>
            <li>Press the "Alt" Key</li>
            <li>Hover Over Advanced, then click Advanced Settings</li>
            <li>Now click on the Wi-Fi Interface. Use the arrows to move its priority above Ethernet</li>
        </ol>
        <p>Windows (if the above does not work):</p>
        <ol>
            <li>Ensure your Pi is connected to your laptop</li>
            <li>Enter the Network and Sharing Center</li>
            <li>Change Adapter Settings > Your Wifi Adapter > Properties > TCP/IPv4 > Advanced</li>
            <li>Uncheck Automatic Metric - put "1" Inside the box</li>
            <li>Press Okay</li>
            <li>Now go to your Ethernet Adapter > Properties > TCP/IPv4 > Advanced</li>
            <li>Uncheck Automatic Metric - put "2" inside the box</li>
            <li>Press Okay</li>
        </ol>
        <p>Ubuntu:</p>
        <ul>
            <li>See this FAQ: <ref
                    uri="https://askubuntu.com/questions/263572/can-i-use-wi-fi-and-cable-ethernet-networking-at-same-time">
                    https://askubuntu.com/questions/263572/can-i-use-wi-fi-and-cable-ethernet-networking-at-same-time
                </ref>;
                Use the third answer down that concerns the Ubuntu Network Manager</li>
        </ul>
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous steps.</choice>
            </choiceInput>
        </answer>
    </exercise>

    <!--
<exercise>
<p>Enable SSH access to the Pi.</p>
<alert>This might already be done!</alert>
<p>Raspberry Pi disables SSH access by default. Otherwise they are very easy to hijack.</p>
<p>Use the micro HDMI cord to connect the Pi to a monitor. You can borrow one from a lab machine. You'll also need to borrow a keyboard.</p>
<ref uri="https://www.raspberrypi.com/documentation/computers/remote-access.html">Pi documentation here</ref>
</exercise>
-->

    <exercise>
        <p>Confirm SSH access to your Pi.</p>
        <p>Open VSCode. Open a terminal using Terminal > New Terminal (or drag it up from the bottom margin). Enter:</p>
        <c>ssh pi@172.27.0.254</c>
        <p>The default password is <c>raspberry</c>.</p>
        <p>If this is your first time connecting to the Pi, a warning will appear. It may warn you about
            man-in-the-middle
            attacks. Dismiss that. You trust the Pi.</p>
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous steps.</choice>
            </choiceInput>
        </answer>
    </exercise>

</section>


<section>
    <title>Configure the Pi</title>

    <exercise>
        <p>Update the password for the Pi root account.</p>
        <p>The <c>pi</c> user has permission to access any data and change any setting. We don't want to leave it
            sitting around with the default password.</p>
        <ul>
            <li>Ensure you are connected to your Pi via SSH</li>
            <li>Run <c>passwd</c>. Enter the current password (probably <c>raspberry</c>). Enter a new password. It's
                fine to use your St Olaf password if you want one less thing to remember</li>
            <li>Logout (<c>logout</c>) then log back in using the new password to make sure it works</li>
        </ul>
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous steps.</choice>
            </choiceInput>
        </answer>
    </exercise>

    <exercise>
        <p>Create a personal account on the Pi. The default <c>pi</c> user is for maintenance. Let's create a new user
            for our coding exercises.</p>
        <ul>
            <li>Ensure you are connected to your Pi via SSH</li>
            <li>Create a new account: <c>sudo useradd -m -s /bin/bash </c><em>username</em>. Use your St Olaf
                username, eg <c>fyfe1</c>
            </li>
            <li>Set the password for your new account: <c>sudo passwd </c><em>username</em>. Use your St Olaf
                password. It's ok if this is the same password as the <c>pi</c> account.
            </li>
            <li>Give your personal account sudo permissions: <c>sudo usermod -G sudo -a </c><em>username</em></li>
            <li>Log out of the Pi: <c>logout</c>. </li>
            <li>Log in as your personal account: <c>ssh </c><em>username</em>
                <c>@172.27.0.254</c>
            </li>
            <li>Confirm who you are logged in as: <c>whoami</c>
            </li>
            <li>Confirm it again: <c>echo &dollar;USER</c>
            </li>
        </ul>
        <p>NOTE: you will be using your personal account for all the work in this course. It's important that the
            username match your St Olaf username so the TA can keep track of you. However! This account is not linked to
            your St Olaf account. Updating your St Olaf password will not update the password on the Pi. You'll have to
            do that manually with <c>passwd</c>
        </p>
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous steps.</choice>
            </choiceInput>
        </answer>
    </exercise>

    <!--
echo username > /etc/owner
sudo hd-image change-boot-user username
    -->

    <exercise>
        <p>Configure VSCode to connect to the personal account on your Pi. This will save you the trouble of entering
            your password every time you connect. VSCode also provides a nice
            UI for editing files: text editor, terminal, file view, etc.</p>
        <image source='doenet:cid=bafkreidm7gmqqjrp2pyswwg6ai6s6ai5tb63ewmjv3bd2563yo426nvmwq'
            description='Screenshot of remote SSH setup in VSCode' asfilename='remote-ssh-add-connection.png'
            width='397' mimeType='image/png' />

        <ul>
            <li>Click the button as shown to add a new connection. The connection address is the same as when you use
                SSH: <em>username</em>
                <c>@172.27.0.254</c>.
            </li>
            <li>Create an empty file on the Pi: <c>touch /tmp/foobar</c>. </li>
            <li>Open a new VSCode window <em>without</em> the remote connection. Open a terminal. Confirm that you can
                see the file on the Pi: <c>ssh </c><em>username</em>@172.27.0.254 ls -l /tmp/foobar</li>
        </ul>
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous steps.</choice>
            </choiceInput>
        </answer>
    </exercise>
</section>

<section>
    <title>Power Cycling the Pi</title>

    <exercise>
        <p>Shut down the Pi. </p>
        <ul>
            <li>Ensure you are in a terminal connected to the Pi</li>
            <li>Run: <c>sudo shutdown -h now</c>
            </li>
            <li>Wait about 10 seconds for the OS to shut down before unplugging</li>
        </ul>
        <p>The <c>-h</c> flag halts the Pi hardware. If you use <c>-r</c> instead, the Pi will reboot.</p>
        <p>NOTE: you can also shut down the Pi by unplugging it. <alert>I don't recommend it.</alert> If you unplug
            while a process is writing data to the SD card, you may corrupt the card. If that happens, all data on the
            card is lost. You have to wipe it and start over.</p>
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous steps.</choice>
            </choiceInput>
        </answer>
    </exercise>

    <exercise>
        <p>To turn on your Pi:</p>
        <ul>
            <li>Connect the power cord to your Pi</li>
            <li>Connect the Pi to your laptop via ethernet (if not already connected)</li>
            <li>Check the network settings. You should see the connection turn from red to green</li>
            <li>Open VSCode. Go to the remote connections tab. Connect to the Pi</li>
        </ul>
        <p>If you are unable to connect to your Pi after power cycling, something probably went wrong in the setup steps
            above.</p>
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous steps.</choice>
            </choiceInput>
        </answer>
    </exercise>

</section>


<section>
    <title>Writing Code (Finally!)</title>

    <ul>
        <li>Ensure you are connected to your Pi</li>
        <li>Confirm you are logged in as your personal user: <c>whoami</c>
        </li>
        <li>Create a directory for this class: <c>mkdir ~/hardware-design</c>
        </li>
        <li>Create a directory for this exercise: <c>mkdir ~/hardware-design/coding-setup</c>
        </li>
        <li>Navigate to that directory: <c>cd ~/hardware-design/coding-setup</c>
        </li>
        <li>Confirm you are in the expected directory: <c>pwd</c>
        </li>
    </ul>
    <answer>
        <choiceInput selectMultiple>
            <choice credit="1">Check this box when you have successfully completed the previous steps.</choice>
        </choiceInput>
    </answer>
    <p>Create a new file <c>hello.c</c> in this directory. You may use the UI or <c>touch hello.c</c>
    </p>
    <p>Open the file. Copy-paste the following into it:</p>
    <pre>#include &lt;stdio.h&gt;

    int main() {
       printf("Hello, world!\n");
       return 0;
    }
    </pre>
    <p>Save the file.</p>
    <answer>
        <choiceInput selectMultiple>
            <choice credit="1">Check this box when you have successfully completed the previous steps.</choice>
        </choiceInput>
    </answer>
    <p>Back in the terminal.</p>
    <ul>
        <li>Confirm that you are in the correct directory: <c>pwd</c>
        </li>
        <li>Confirm that your new file exists: <c>ls</c>
        </li>
        <li>Confirm that your file contains the expected code: <c>cat hello.c</c>
        </li>
    </ul>
    <answer>
        <choiceInput selectMultiple>
            <choice credit="1">Check this box when you have successfully completed the previous steps.</choice>
        </choiceInput>
    </answer>
    <p>Still in the terminal.</p>
    <ul>
        <li>Compile your C code into an executable: <c>gcc hello.c</c>
        </li>
        <li>Run your program: <c>./a.out</c>
        </li>
        <li>Confirm the output is as expected: <c>Hello, world!</c>
        </li>
    </ul>
    <answer>
        <choiceInput selectMultiple>
            <choice credit="1">Check this box when you have successfully completed the previous steps.</choice>
        </choiceInput>
    </answer>
</section>


<section>
    <title>Create your csgit repository</title>

    <exercise>
        <p>To create your CSGit repo, you need to access your course group. There are two ways to achieve this: </p>
        <ul>
            <li>Check your email for an invitation to join your course group</li>
            <li>Otherwise, navigate to <ref uri="csgit.stolaf.edu">csgit.stolaf.edu</ref>. Navigate to the LDAP tab and
                sign
                in with your St Olaf username (not email) and password.</li>
        </ul>
        <p>NOTE: Connecting to csgit requires you to be on the St Olaf network. If you're off campus, connect to the VPN
            first.
        </p>
        <image source='doenet:cid=bafkreifxnn5yaxqzzzmw3zpyzrruwfshjdnorld5fvxohgeicujzr6pnza'
            description='Log in screen for csgit' asfilename='1_csgit_login.png' width='748' mimeType='image/png' />
        <p>Once you have signed in, navigate to Groups > HD-241 > S26. From there, you should see a screen like this:
        </p>
        <image source='doenet:cid=bafkreiakh2lpgwr7aiaqvpsxnaay2jipjh5te7r2qs6x5za6uvyzr7x4a4'
            description='CSGit group for Hardware Design' asfilename='2_csgit_group.png' width='1420'
            mimeType='image/png' />
        <p>Click the blue "New Project" button on the right side of the screen. Then click "Create blank project" on the
            subsequent screen. You will arrive at a screen that looks like this:</p>
        <image source='doenet:cid=bafkreifohyqyt3eoawyheuhp7sz6owmoea6txvjut4uggejrjw2rstxxru'
            description='CSGit screen to create project' asfilename='3_create_project.png' width='1422'
            mimeType='image/png' />
        <p>On this screen, you only need to give your project a name. Make your project name your St Olaf username, eg
            <c>
                fyfe1</c>. <alert>DO NOT</alert> use your full name, email address, etc. Do not change any other
            settings.
            Click "Create Project". You should then see a screen that looks like this:
        </p>
        <image source='doenet:cid=bafkreigxvxqmlysf5dssx7evfmnccalfl7f3kewsoblyuqwffa5webexki'
            description='CSGit project screen' asfilename='4_csgit_project.png' width='1418' mimeType='image/png' />
        <p>On the left sidebar, go to Manage > Members > Invite Members:</p>
        <image source='doenet:cid=bafkreifixn7s5iig4wh7g3sj46huclsr25jfajopytczqzpmejdy2gqqyu'
            description='CSGit Invite members screen' asfilename='6_invite_members.png' width='1416'
            mimeType='image/png' />
        <ol>
            <li>Add your St Olaf username</li>
            <li>Change role to Maintainer</li>
            <li>DO NOT add an Access expiration date</li>
            <li>Click Invite</li>
        </ol>
        <p>That's it! You now have created your course repo! </p>
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous steps.</choice>
            </choiceInput>
        </answer>
    </exercise>

    <exercise>
        <title>Configure git on your Pi</title>
        <p>Otherwise it'll yell at you when you try to connect to csgit.</p>
        <pre>git config --global user.email username@stolaf.edu
            git config --global user.name "your full name"</pre>
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous steps.</choice>
            </choiceInput>
        </answer>
    </exercise>

    <exercise>
        <title>Create SSH keys on your Pi</title>
        <p>This allows you to connect to csgit securely. This is similar to what VSCode is
            doing under the hood when it connects from your laptop to your Pi.</p>
        <pre>ssh-keygen</pre>
        <p>This command will print a series of prompts. Keep pressing enter/return as it prompts for input. DO NOT ENTER
            ANYTHING.</p>
        <p>Confirm you now have a public key: </p>
        <pre>cat .ssh/id_rsa.pub</pre>
        <p>The output should look something like this:</p>
        <pre>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD1eHUPVNztOF4awQFbDXXVfJ9fL5sU/ZHxX9SBDnBhE9Zrrbfts0/wEAy46xRPj1uxyIV09566KHQDTIP24XjpiRa7EkOLL/UQTfHOwN+OMsck2/mXcW7GFjChpskykuTkUE4O9F5RnU5IrNdyRvX1/kSiZlFquR4Itg1OUDXfZQxyVx7z+jVLay4rd8Zyirfhf93yfi36SOTx/y6SDCKOrcEHTzwADMyUAo6+U2RWPWYx0GsRVfo637p+EbR+o0ztBGMU32h75mqG87qGtgeJN+rvz9RpnGjMob2PeFp/IGs7+qE+9R55d0uyZzJp6EDjtnJ5W2Br2mq8wwvXzt9Z lynn5@raspberrypi</pre>
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous steps.</choice>
            </choiceInput>
        </answer>
    </exercise>

    <exercise>
        <title>Add your SSH key to your repo</title>
        <ul>
            <li>Navigate to <ref uri="csgit.stolaf.edu">csgit.stolaf.edu</ref> and log in if necessary</li>
            <li>Click the icon (or yourself) in the top right corner</li>
            <li>Preferences > SSH Keys > Add new key</li>
            <li>Copy-paste the contents of <c>.ssh/id_rsa.pub</c> into the box. You do not need an expiration date</li>
            <li>Save the key</li>
        </ul>
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous steps.</choice>
            </choiceInput>
        </answer>
    </exercise>

    <exercise>
        <title>Clone your repo to the Pi</title>
        <ul>
            <li>Ensure you are connected to your Pi as your personal user</li>
            <li>Open the file <c>~/.ssh/config</c>
            </li>
            <li>Enter the following, using your username in place of <em>username</em>:
                <pre>Host https://csgit.stolaf.edu
Hostname csgit.stolaf.edu
User username
IdentityFile /home/username/.ssh/id_rsa</pre>
            </li>
            <li>Save the file</li>
            <li>Confirm the contents of the file: <c>cat ~/.ssh/config</c>
            </li>
        </ul>
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous steps.</choice>
            </choiceInput>
        </answer>
    </exercise>




</section>



























<section>
    <p>Cloning your csgit repository onto your Raspberry Pi</p>


    <p>Back to the terminal on your Raspberry Pi, navigate to your .ssh directory with the command:</p>

    <pre>cd ~/.ssh</pre>

    <p>Next, enter the command:</p>

    <pre>nano config</pre>

    <p>An interface for editing the file should show up. Enter the following lines into the file (replacing
        <em>username</em> with your St. Olaf username):
    </p>

    <pre>Host https://csgit.stolaf.edu
Hostname csgit.stolaf.edu
User username
IdentityFile /home/username/.ssh/id_rsa</pre>

    <p>Type ctrl+s to save the file, followed by ctrl+x to exit.</p>

    <p>Enter the following command, and you should see what you just entered into the file.</p>

    <pre>cat config </pre>

    <p>Before setting up the repository on your Pi, we'll backup your files so they don't get accidentally
        overwritten.
        Do this with:</p>

    <pre>cd ~
mv HD HD.bu
ls</pre>

    <p>This changes the name of the directory <c>HD</c> to <c>HD.bu</c>, since we will be calling your repository
        <c>HD
        </c>.
    </p>

    <p>Note: "bu" stands for "backup". Don't perform this step if you don't have an HD subdirectory. The final <c>ls
        </c>
        command should show your <c>HD.bu</c> directory if the <c>mv</c> command succeeded.</p>

    <p>Continuing on your Raspberry Pi, clone your csgit repository with the command (replacing <em>username</em>
        with
        your St. Olaf username):</p>

    <pre>git clone git@csgit.stolaf.edu:hd-241/s25/username.git HD</pre>

    <p>It may say that the authenticity of csgit.stolaf.edu can't be established. Type yes to continue.</p>

    <p>This command makes a new local copy of your csgit repository, i.e., the files in csgit for your submissions
        for
        this HD course.</p>

    <p>The subdirectory <c>HD</c> should now appear if you enter the command:</p>

    <pre>ls</pre>

    <p>Also enter the additional configuration command:</p>

    <pre>git config --global receive.denyCurrentBranch warn</pre>

    <p>
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous steps.</choice>
            </choiceInput>
        </answer>
    </p>

</section>

<section>
    <title>Testing csgit submission from your Pi</title>

    <p>We will now test your setup for submission from your Pi to csgit.</p>

    <p>On a Pi terminal (using your personal account).
        enter the command:</p>
    <pre>cd ~/HD
echo testing >> test.txt</pre>

    <p>This creates a file called test.txt containing only the text "testing". You can check this by entering the
        command:</p>
    <pre>cat test.txt</pre>

    <p>Now enter the following commands, one by one.</p>
    <pre>git add test.txt
git commit -m "first commit"
git pull origin main
git push origin main</pre>

    <p>The first two commands create a git package containing your file <c>test.txt</c>; that package is called a
        git
        commit.</p>
    <p>The last two commands transfer that commit from your Pi's <c>HD</c> working directory to your repository on
        csgit.stolaf.edu.</p>
    <p>To check that your csgit submission was completed,
        use a web browser to open csgit.stolaf.edu (supply your St. Olaf username and password if necessary), then
        locate your <c>HD</c> repository and open it.
        You should see the <c>test.txt</c> file, and if you click on that filename you should see the contents
        "testing".</p>

    <p>Your csgit submission system should now be set up!</p>

    <p>
        <answer>
            <choiceInput selectMultiple>
                <choice credit="1">Check this box when you have successfully completed the previous steps.</choice>
            </choiceInput>
        </answer>
    </p>

</section>

<section>
    <title>Reading for Next Class</title>

    <p>Read Sections 1.1 through 1.3 from the course textbook, Dive Into Systems. Take notes as you read through
        these
        sections. After completing the reading, write a summary below. This summary will be graded manually.</p>

    <answer>
        <textInput name="summary" expanded />
        <award>
            <when>
                <text>$summary</text> != <text></text>
            </when>
        </award>
    </answer>

</section>